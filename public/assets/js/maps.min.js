var Maps=function(){"use strict";return{init:function(){!function(){new GMaps({el:"#map1",lat:-12.043333,lng:-77.028333});var a=new GMaps({div:"#map2",lat:-12.043333,lng:-77.028333});a.addMarker({lat:-12.043333,lng:-77.03,title:"Lima",details:{database_id:42,author:"HPNeo"},click:function(a){console.log&&console.log(a),alert("You clicked in this marker")}}),a.addMarker({lat:-12.042,lng:-77.028333,title:"Marker with InfoWindow",height:"200px",infoWindow:{content:"<p>HTML Content</p>"}});GMaps.createPanorama({el:"#map3",lat:42.3455,lng:-71.0983});var t,e=new GMaps({div:"#map4",lat:-12.043333,lng:-77.028333});$("#geocoding_form").submit(function(a){a.preventDefault(),GMaps.geocode({address:$("#address").val().trim(),callback:function(a,t){if("OK"==t){var r=a[0].geometry.location;e.setCenter(r.lat(),r.lng()),e.addMarker({lat:r.lat(),lng:r.lng()})}}})}),$(document).on("submit",".edit_marker",function(a){a.preventDefault();var e=$(this).data("marker-index");$lat=$("#marker_"+e+"_lat").val(),$lng=$("#marker_"+e+"_lng").val();var r=$("#edit_marker_template").text().replace(/{{index}}/g,e).replace(/{{lat}}/g,$lat).replace(/{{lng}}/g,$lng);t.markers[e].setPosition(new google.maps.LatLng($lat,$lng)),t.markers[e].infoWindow.setContent(r),$marker=$("#markers-with-coordinates").find("li").eq(0).find("a"),$marker.data("marker-lat",$lat),$marker.data("marker-lng",$lng)}),$(document).on("click",".pan-to-marker",function(a){var e,r;a.preventDefault();var n=$(this).data("marker-index"),l=$(this).data("marker-lat"),i=$(this).data("marker-lng");if(void 0!=n){var o=t.markers[n].getPosition();e=o.lat(),r=o.lng()}else e=l,r=i;t.setCenter(e,r)}),t=new GMaps({div:"#map5",lat:-12.043333,lng:-77.028333}),GMaps.on("marker_added",t,function(a){$("#map-ui").append('<tr><td><a href="#" class="pan-to-marker" data-marker-index="'+t.markers.indexOf(a)+'">'+a.title+'</a></td><td><a href="#" class="pan-to-marker" data-marker-lat="'+a.getPosition().lat()+'" data-marker-lng="'+a.getPosition().lng()+'">'+a.title+"</a></td></tr>")}),GMaps.on("click",t.map,function(a){var e=t.markers.length,r=a.latLng.lat(),n=a.latLng.lng(),l=$("#edit_marker_template").text().replace(/{{index}}/g,e).replace(/{{lat}}/g,r).replace(/{{lng}}/g,n);t.addMarker({lat:r,lng:n,title:"Marker #"+e,infoWindow:{content:l}})})}()}}}();