var FormWizard=function(){"use strict";var e=$("#wizard"),a=$("#form"),r=$(".swMain > ul > li").length,t=function(){$.validator.setDefaults({errorElement:"span",errorClass:"help-block",ignore:":hidden",rules:{firstName:{minlength:2,required:!0},lastName:{minlength:2,required:!0},email:{required:!0,email:!0},password:{minlength:6,required:!0},password2:{required:!0,minlength:5,equalTo:"#password"}},messages:{firstName:"First Name is required",lastName:"Last Name is required"},highlight:function(e){$(e).closest(".help-block").removeClass("valid"),$(e).closest(".form-group").removeClass("has-success").addClass("has-error").find(".symbol").removeClass("ok").addClass("required")},unhighlight:function(e){$(e).closest(".form-group").removeClass("has-error")},success:function(e,a){e.addClass("help-block valid"),$(a).closest(".form-group").removeClass("has-error").addClass("has-success").find(".symbol").removeClass("required").addClass("ok")}})},i=function(a,t){t.toStep==r&&($(".anchor").children("li:nth-child("+t.toStep+")").children("a").removeClass("wait"),$(".display-value",form).each(function(){var e=$('[name="'+$(this).attr("data-display")+'"]',form);"text"==e.attr("type")||"email"==e.attr("type")||e.is("textarea")?$(this).html(e.val()):e.is("select")?$(this).html(e.find("option:selected").text()):e.is(":radio")||e.is(":checkbox")?$(this).html(e.filter(":checked").closest("label").text()):"card_expiry"==$(this).attr("data-display")&&$(this).html($('[name="card_expiry_mm"]',form).val()+"/"+$('[name="card_expiry_yyyy"]',form).val())})),$(".next-step").unbind("click").click(function(a){a.preventDefault(),e.smartWizard("goForward")}),$(".back-step").unbind("click").click(function(a){a.preventDefault(),e.smartWizard("goBackward")}),$(".go-first").unbind("click").click(function(a){a.preventDefault(),e.smartWizard("goToStep",1)}),$(".finish-step").unbind("click").click(function(e){e.preventDefault(),l(a,t)})},s=function(e,a){return n(a.fromStep,a.toStep)},l=function(e,a){o()&&(alert("form submit function"),$(".anchor").children("li").last().children("a").removeClass("wait").removeClass("selected").addClass("done").children(".stepNumber").addClass("animated tada"))},n=function(e,t){if(r>=t&&t>e){if(a.valid()){a.validate().focusInvalid();for(var i=e;i<=t;i++)$(".anchor").children("li:nth-child("+i+")").not("li:nth-child("+t+")").children("a").removeClass("wait").addClass("done").children(".stepNumber").addClass("animated tada");return!0,!0}}else if(t<e){for(i=t;i<=e;i++)$(".anchor").children("li:nth-child("+i+")").children("a").addClass("wait").children(".stepNumber").removeClass("animated tada");return!0}},o=function(){return!0};return{init:function(){!function(){e.smartWizard({selected:0,keyNavigation:!1,onLeaveStep:s,onShowStep:i});t()}()}}}();