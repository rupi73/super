var ImageCropping=function(){"use strict";var t,n,e,a=function(t){$("#x1").val(t.x),$("#y1").val(t.y),$("#x2").val(t.x2),$("#y2").val(t.y2),$("#w").val(t.w),$("#h").val(t.h)},i=function(){$("#coords input").val("")};return{init:function(){$("#target").Jcrop({onChange:a,onSelect:a,onRelease:i},function(){t=this}),$("#coords").on("change","input",function(n){var e=$("#x1").val(),a=$("#x2").val(),i=$("#y1").val(),o=$("#y2").val();t.setSelect([e,i,a,o])}),function(){var a=$("#preview-pane"),i=$("#preview-pane .preview-container"),o=$("#preview-pane .preview-container img"),r=i.width(),c=i.height();function s(t){if(parseInt(t.w)>0){var a=r/t.w,i=c/t.h;o.css({width:Math.round(a*n)+"px",height:Math.round(i*e)+"px",marginLeft:"-"+Math.round(a*t.x)+"px",marginTop:"-"+Math.round(i*t.y)+"px"})}}$("#target2").Jcrop({onChange:s,onSelect:s,aspectRatio:r/c},function(){var i=this.getBounds();n=i[0],e=i[1],t=this,a.appendTo(t.ui.holder)})}(),function(){$("#target3").Jcrop({bgFade:!0,bgOpacity:.2,setSelect:[60,70,540,330]},function(){t=this}),$("#fadetog").on("ifChecked",function(n){t.setOptions({bgFade:!0})}),$("#fadetog").on("ifUnchecked",function(n){t.setOptions({bgFade:!1})}),$("#shadetog").on("ifUnchecked",function(t){$("#shadetxt").slideUp()}),$("#shadetog").on("ifChecked",function(t){$("#shadetxt").slideDown()});var n,e,a={bgc_buttons:"Change bgColor",bgo_buttons:"Change bgOpacity",anim_buttons:"Animate Selection"},i={anim1:[217,122,382,284],anim2:[20,20,580,380],anim3:[24,24,176,376],anim4:[347,165,550,355],anim5:[136,55,472,183]},o={Low:.2,Mid:.5,High:.8,Full:1},r={R:"#900",B:"#4BB6F0",Y:"#F0B207",G:"#46B81C",W:"white",K:"black"};for(var c in a)n=c,e=a[c],$("#interface").prepend($("<fieldset></fieldset>").attr("id",n).append($("<legend></legend>").append(e),'<div class="btn-toolbar"><div class="btn-group"></div></div>'));function s(t){var n=$("<button />").addClass("btn btn-sm");return t&&n.append(t),n}var u=1;for(c in i)$("#anim_buttons .btn-group").append(s(u++).click(p(i[c]))," ");for(c in $("#anim_buttons .btn-group").append(s("Bye!").click(function(n){return $(n.target).addClass("active"),t.animateTo([300,200,300,200],function(){this.release(),$(n.target).closest(".btn-group").find(".active").removeClass("active")}),!1})),o)$("#bgo_buttons .btn-group").append(s(c).click(d("bgOpacity",o[c]))," ");for(c in r)$("#bgc_buttons .btn-group").append(s(c).css({background:r[c],color:"K"==c||"R"==c?"white":"black"}).click(d("bgColor",r[c]))," ");function d(n,e){return function(a){$(a.target).closest(".btn-group").find(".active").removeClass("active"),$(a.target).addClass("active");var i={};return i[n]=e,t.setOptions(i),!1}}function p(n){return function(e){return $(e.target).addClass("active"),t.animateTo(n,function(){$(e.target).closest(".btn-group").find(".active").removeClass("active")}),!1}}$("#bgo_buttons .btn:first,#bgc_buttons .btn:last").addClass("active"),$("#interface").show()}()}}}();